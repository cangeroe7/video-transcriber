import type { videos, folders } from "./server/db/schema";
import { z } from "zod";
import { RouterOutputs } from "./trpc/react";
import { fontFamily } from "@remotion/google-fonts/Inter";

export type VideoWithMedia = typeof videos.$inferSelect & {
	videoMedia: {
		url: string;
	} | null;
};

export type Video = RouterOutputs["video"]["getVideoById"];

export type FolderWithMedia = typeof folders.$inferSelect & {
	thumbnailMedia: {
		url: string;
	} | null;
};

export type Optional<T, K extends keyof T> = Pick<Partial<T>, K> & Omit<T, K>;

export const VIDEO_WIDTH = 2560;
export const VIDEO_HEIGHT = 1440;
export const VIDEO_FPS = 60;
export const DURATION_IN_FRAMES = 800;

// MY CONSTANTS

export const SubVidProps = z.object({
	subtitles: z
		.array(
			z.object({
				id: z.number().nonnegative(),
				seek: z.number(),
				start: z.number().nonnegative(),
				end: z.number().nonnegative(),
				text: z.string(),
				tokens: z.array(z.number()),
				temperature: z.number(),
				avg_logprob: z.number(),
				compression_ratio: z.number(),
				no_speech_prob: z.number(),
				words: z.array(z.string()).optional(),
			}),
		)
		.nullable(),
	video: z.string().nullable(),
	settings: z.object({
		italic: z.boolean(),
		fontSize: z.number(),
		fontFamily: z.string(),
		color: z.string(),
		width: z.number(),
		height: z.number(),
		left: z.number(),
		top: z.number(),
		animate: z.boolean(),
		revertAfterActive: z.boolean(),
	}),
	isRendering: z.boolean(),
	style: z.string(),
});

export type SubVidProps = z.infer<typeof SubVidProps>;
export type Subtitles = SubVidProps["subtitles"];
export type Settings = SubVidProps["settings"]
export type Subtitle = NonNullable<SubVidProps["subtitles"]>[number];

export const defaultMyVideoProps: SubVidProps = {
	subtitles: [
		{
			id: 0,
			seek: 0,
			start: 0,
			end: 2.75999999046326,
			text: " One second, what did you think about the ride?",
			tokens: [
				50364, 1485, 1150, 11, 437, 630, 291, 519, 466, 264, 5077, 30,
				50502,
			],
			temperature: 0,
			avg_logprob: -0.447623699903488,
			compression_ratio: 1.81690144538879,
			no_speech_prob: 0.0414268374443054,
		},
		{
			id: 1,
			seek: 0,
			start: 2.75999999046326,
			end: 11.1199998855591,
			text: " It was great, and apparently I've never been on live television before, but apparently",
			tokens: [
				50502, 467, 390, 869, 11, 293, 7970, 286, 600, 1128, 668, 322,
				1621, 8815, 949, 11, 457, 7970, 50920,
			],
			temperature: 0,
			avg_logprob: -0.447623699903488,
			compression_ratio: 1.81690144538879,
			no_speech_prob: 0.0414268374443054,
		},
		{
			id: 2,
			seek: 0,
			start: 11.1199998855591,
			end: 18.5599994659424,
			text: " sometimes I don't watch the news because I'm a kid and apparently every time, apparently",
			tokens: [
				50920, 2171, 286, 500, 380, 1159, 264, 2583, 570, 286, 478, 257,
				1636, 293, 7970, 633, 565, 11, 7970, 51292,
			],
			temperature: 0,
			avg_logprob: -0.447623699903488,
			compression_ratio: 1.81690144538879,
			no_speech_prob: 0.0414268374443054,
		},
		{
			id: 3,
			seek: 0,
			start: 18.5599994659424,
			end: 22.3199996948242,
			text: " Grandpa just gives me a remote after we watch the Powerball.",
			tokens: [
				51292, 27139, 445, 2709, 385, 257, 8607, 934, 321, 1159, 264,
				7086, 3129, 13, 51480,
			],
			temperature: 0,
			avg_logprob: -0.447623699903488,
			compression_ratio: 1.81690144538879,
			no_speech_prob: 0.0414268374443054,
		},
		{
			id: 4,
			seek: 0,
			start: 22.3199996948242,
			end: 24.1599998474121,
			text: " It's the Powerball.",
			tokens: [51480, 467, 311, 264, 7086, 3129, 13, 51572],
			temperature: 0,
			avg_logprob: -0.447623699903488,
			compression_ratio: 1.81690144538879,
			no_speech_prob: 0.0414268374443054,
		},
		{
			id: 5,
			seek: 0,
			start: 24.1599998474121,
			end: 26.4799995422363,
			text: " Tell me about the ride, what did you think about the ride?",
			tokens: [
				51572, 5115, 385, 466, 264, 5077, 11, 437, 630, 291, 519, 466,
				264, 5077, 30, 51688,
			],
			temperature: 0,
			avg_logprob: -0.447623699903488,
			compression_ratio: 1.81690144538879,
			no_speech_prob: 0.0414268374443054,
		},
		{
			id: 6,
			seek: 0,
			start: 26.4799995422363,
			end: 28,
			text: " Well, it was great!",
			tokens: [51688, 1042, 11, 309, 390, 869, 0, 51764],
			temperature: 0,
			avg_logprob: -0.447623699903488,
			compression_ratio: 1.81690144538879,
			no_speech_prob: 0.0414268374443054,
		},
		{
			id: 7,
			seek: 0,
			start: 28,
			end: 29,
			text: " Why?",
			tokens: [51764, 1545, 30, 51814],
			temperature: 0,
			avg_logprob: -0.447623699903488,
			compression_ratio: 1.81690144538879,
			no_speech_prob: 0.0414268374443054,
		},
		{
			id: 8,
			seek: 2900,
			start: 29,
			end: 35,
			text: " Because apparently you're spinning around, and apparently every time you get dizzy, that's",
			tokens: [
				50364, 1436, 7970, 291, 434, 15640, 926, 11, 293, 7970, 633,
				565, 291, 483, 31098, 11, 300, 311, 50664,
			],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 9,
			seek: 2900,
			start: 35,
			end: 37,
			text: " all you do is get dizzy.",
			tokens: [50664, 439, 291, 360, 307, 483, 31098, 13, 50764],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 10,
			seek: 2900,
			start: 37,
			end: 39,
			text: " Is it fun?",
			tokens: [50764, 1119, 309, 1019, 30, 50864],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 11,
			seek: 2900,
			start: 39,
			end: 40,
			text: " Yeah.",
			tokens: [50864, 865, 13, 50914],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 12,
			seek: 2900,
			start: 40,
			end: 43,
			text: " And I've never ever been on live television.",
			tokens: [
				50914, 400, 286, 600, 1128, 1562, 668, 322, 1621, 8815, 13,
				51064,
			],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 13,
			seek: 2900,
			start: 43,
			end: 45,
			text: " I've never ever been on live television.",
			tokens: [
				51064, 286, 600, 1128, 1562, 668, 322, 1621, 8815, 13, 51164,
			],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 14,
			seek: 2900,
			start: 45,
			end: 46,
			text: " Are you excited?",
			tokens: [51164, 2014, 291, 2919, 30, 51214],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 15,
			seek: 2900,
			start: 46,
			end: 50,
			text: " Yeah, and apparently I already went down the super slide.",
			tokens: [
				51214, 865, 11, 293, 7970, 286, 1217, 1437, 760, 264, 1687,
				4137, 13, 51414,
			],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 16,
			seek: 2900,
			start: 50,
			end: 54,
			text: " When I went down the slide I was scared half to death.",
			tokens: [
				51414, 1133, 286, 1437, 760, 264, 4137, 286, 390, 5338, 1922,
				281, 2966, 13, 51614,
			],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 17,
			seek: 2900,
			start: 54,
			end: 56,
			text: " I just freak out.",
			tokens: [51614, 286, 445, 21853, 484, 13, 51714],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 18,
			seek: 2900,
			start: 56,
			end: 57,
			text: " Okay, okay.",
			tokens: [51714, 1033, 11, 1392, 13, 51764],
			temperature: 0,
			avg_logprob: -0.332857608795166,
			compression_ratio: 1.75,
			no_speech_prob: 0.00446033431217074,
		},
		{
			id: 19,
			seek: 5700,
			start: 57,
			end: 58,
			text: " What's his name?",
			tokens: [50364, 708, 311, 702, 1315, 30, 50414],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 20,
			seek: 5700,
			start: 58,
			end: 59,
			text: " Noah.",
			tokens: [50414, 20895, 13, 50464],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 21,
			seek: 5700,
			start: 59,
			end: 60,
			text: " Noah, what's your last name?",
			tokens: [50464, 20895, 11, 437, 311, 428, 1036, 1315, 30, 50514],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 22,
			seek: 5700,
			start: 60,
			end: 61,
			text: " Dick Ritter.",
			tokens: [50514, 18754, 497, 3904, 13, 50564],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 23,
			seek: 5700,
			start: 61,
			end: 62,
			text: " How do you spell his last name?",
			tokens: [50564, 1012, 360, 291, 9827, 702, 1036, 1315, 30, 50614],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 24,
			seek: 5700,
			start: 62,
			end: 63,
			text: " Ritter, R-I-T-T-E-R.",
			tokens: [
				50614, 497, 3904, 11, 497, 12, 40, 12, 51, 12, 51, 12, 36, 12,
				49, 13, 50664,
			],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 25,
			seek: 5700,
			start: 63,
			end: 64,
			text: " Okay, and where are you guys from?",
			tokens: [50664, 1033, 11, 293, 689, 366, 291, 1074, 490, 30, 50714],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 26,
			seek: 5700,
			start: 64,
			end: 65,
			text: " Wilkes-Barre.",
			tokens: [50714, 9483, 5993, 12, 33, 15531, 13, 50764],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 27,
			seek: 5700,
			start: 65,
			end: 66,
			text: " Wilkes-Barre, alright buddy!",
			tokens: [
				50764, 9483, 5993, 12, 33, 15531, 11, 5845, 10340, 0, 50814,
			],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 28,
			seek: 5700,
			start: 66,
			end: 67,
			text: " Good stuff!",
			tokens: [50814, 2205, 1507, 0, 50864],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 29,
			seek: 5700,
			start: 67,
			end: 68,
			text: " Have fun!",
			tokens: [50864, 3560, 1019, 0, 50914],
			temperature: 0,
			avg_logprob: -0.229798302054405,
			compression_ratio: 1.35625004768372,
			no_speech_prob: 0.127604559063911,
		},
		{
			id: 30,
			seek: 6800,
			start: 68,
			end: 69,
			text: " Alright!",
			tokens: [50364, 2798, 0, 50414],
			temperature: 0,
			avg_logprob: -0.44532036781311,
			compression_ratio: 2.40000009536743,
			no_speech_prob: 0.855210900306702,
		},
		{
			id: 31,
			seek: 6800,
			start: 69,
			end: 70,
			text: " That is my dad's town, Tom Jersey.",
			tokens: [
				50414, 663, 307, 452, 3546, 311, 3954, 11, 5041, 16601, 13,
				50464,
			],
			temperature: 0,
			avg_logprob: -0.44532036781311,
			compression_ratio: 2.40000009536743,
			no_speech_prob: 0.855210900306702,
		},
		{
			id: 32,
			seek: 6800,
			start: 70,
			end: 71,
			text: " Tom's River, New Jersey!",
			tokens: [50464, 5041, 311, 8640, 11, 1873, 16601, 0, 50514],
			temperature: 0,
			avg_logprob: -0.44532036781311,
			compression_ratio: 2.40000009536743,
			no_speech_prob: 0.855210900306702,
		},
		{
			id: 33,
			seek: 6800,
			start: 71,
			end: 72,
			text: " Tom's River, New Jersey!",
			tokens: [50514, 5041, 311, 8640, 11, 1873, 16601, 0, 50564],
			temperature: 0,
			avg_logprob: -0.44532036781311,
			compression_ratio: 2.40000009536743,
			no_speech_prob: 0.855210900306702,
		},
		{
			id: 34,
			seek: 6800,
			start: 72,
			end: 73,
			text: " Tom's River, New Jersey!",
			tokens: [50564, 5041, 311, 8640, 11, 1873, 16601, 0, 50614],
			temperature: 0,
			avg_logprob: -0.44532036781311,
			compression_ratio: 2.40000009536743,
			no_speech_prob: 0.855210900306702,
		},
		{
			id: 35,
			seek: 6800,
			start: 73,
			end: 74,
			text: " Tom's River, New Jersey!",
			tokens: [50614, 5041, 311, 8640, 11, 1873, 16601, 0, 50664],
			temperature: 0,
			avg_logprob: -0.44532036781311,
			compression_ratio: 2.40000009536743,
			no_speech_prob: 0.855210900306702,
		},
		{
			id: 36,
			seek: 6800,
			start: 74,
			end: 74,
			text: "",
			tokens: [],
			temperature: 0,
			avg_logprob: -0.44532036781311,
			compression_ratio: 2.40000009536743,
			no_speech_prob: 0.855210900306702,
			words: [],
		},
	],
	video: "https://video-transcriber-tom-local.s3.us-east-2.amazonaws.com/original_videos/cb4bb4c1471661c651a1e1eff79713fbf8f99d16588bca4992505c50f847d07b",
	settings: {
		italic: false,
		fontSize: 24,
		fontFamily: "Anton",
		color: "#000000",
		width: 800,
		height: 100,
		left: 100,
		top: 100,
		animate: true,
		revertAfterActive: false,
	},
	isRendering: true,
	style: "slay",
};

export const fontFamilies = new Map<
	string,
	{ fontFamily: string; fontWeight: string }
>([
	["Inter", { fontFamily: "Inter", fontWeight: "400" }],
	["Inter SemiBold", { fontFamily: "Inter", fontWeight: "600" }],
	["Inter ExtraBold", { fontFamily: "Inter", fontWeight: "800" }],
	["Roboto", { fontFamily: "Roboto", fontWeight: "400" }],
	["Roboto SemiBold", { fontFamily: "Roboto", fontWeight: "600" }],
	["Roboto ExtraBold", { fontFamily: "Roboto", fontWeight: "800" }],
	["Poppins", { fontFamily: "Poppins", fontWeight: "400" }],
	["Poppins SemiBold", { fontFamily: "Poppins", fontWeight: "600" }],
	["Poppins ExtraBold", { fontFamily: "Poppins", fontWeight: "800" }],
	["Montserrat", { fontFamily: "Montserrat", fontWeight: "400" }],
	["Montserrat SemiBold", { fontFamily: "Montserrat", fontWeight: "600" }],
	["Montserrat ExtraBold", { fontFamily: "Montserrat", fontWeight: "800" }],
	["Anton", { fontFamily: "Anton", fontWeight: "400" }],
	["Zen Loop", { fontFamily: "Zen Loop", fontWeight: "400" }],
	["Squada One", { fontFamily: "Squada One", fontWeight: "400" }],
	["Alfa Slab One", { fontFamily: "Alfa Slab One", fontWeight: "400" }],
	["Bangers", { fontFamily: "Bangers", fontWeight: "400" }],
	["Bitter", { fontFamily: "Bitter", fontWeight: "400" }],
	["Cabin", { fontFamily: "Cabin", fontWeight: "400" }],
	["Cinzel", { fontFamily: "Cinzel", fontWeight: "400" }],
	["Crimson Pro", { fontFamily: "Crimson Pro", fontWeight: "400" }],
	["DM Serif Display", { fontFamily: "DM Serif Display", fontWeight: "400" }],
]);
